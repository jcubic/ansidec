/**@license
 *    ▄████████ ███▄▄▄▄      ▄████████  ▄█  ████████▄     ▄████████  ▄████████
 *  ███    ███ ███▀▀▀██▄   ███    ███ ███  ███   ▀███   ███    ███ ███    ███
 *  ███    ███ ███   ███   ███    █▀  ███▌ ███    ███   ███    █▀  ███    █▀
 *  ███    ███ ███   ███   ███        ███▌ ███    ███  ▄███▄▄▄     ███
 * ▀███████████ ███   ███ ▀███████████ ███▌ ███    ███ ▀▀███▀▀▀     ███
 *  ███    ███ ███   ███          ███ ███  ███    ███   ███    █▄  ███    █▄
 *  ███    ███ ███   ███    ▄█    ███ ███  ███   ▄███   ███    ███ ███    ███
 *  ███    █▀   ▀█   █▀   ▄████████▀  █▀   ████████▀    ██████████ ████████▀
 *
 * Copyright (c) 2018 Jakub Jankiewicz <https://jcubic.pl/me>
 * Released under the MIT license
 *
 * Based on jQuery Terminal's unix formatting
 *
 */
(function(F){var e=typeof window!=="undefined"?window:global;if(typeof define==="function"&&define.amd){define([],F)}else if(typeof module==="object"&&module.exports){module.exports=F()}else{e.ansi=F()}})(function(r){var F="[^\\x08]|[\\r\\n]{2}|&[^;]+;";var d=new RegExp("^("+F+")?\\x08");var p=new RegExp("^(?:("+F+")?\\x08(_|\\1)|"+"(_)\\x08("+F+"))");var b=/^(\r\n|\n\r|\r|\n)/;var i=/[^\r\n]+\r\x1B\[K/g;function n(t,F){var c=[];var v;var h=0;var g=[];function e(F,i){var e="";var r=0;var n;h=0;function t(F,e,r){if(F<i){var n=F+e.length;if(n<i){v=Math.max(0,v+r.length-e.length)}else{v+=r.length-(i-F)}}}for(var a=0;a<F.length;++a){var A=F.substring(a);var f=A.match(d);var l=c[0];if(f){if(f[1]){n=a-f[1].length+r;c.push({index:n,string:f[1],overtyping:A.match(p)});t(n,f[0],"",1)}if(h<0){h=0}g=g.map(function(F){return F-1});g.push(n);return e+A.replace(d,"")}else if(A.match(b)){if(c.length){var D=c;c=[];D.reverse().forEach(function(F){if(a>F.index){if(--h<=0){t(F.index,"",F.string,2);e+=F.string}}else{c.unshift(F)}})}var u=A.match(b);e+=u[1];a+=u[1].length-1}else{if(g.length){var o=g[0];if(a===o){g.shift()}if(a>=o){h++}}if(c.length){if(a>l.index&&l.overtyping){c.shift();t(l.index,"",l.string);r++;if(l.string===F[a]){e+=F[a]+"￱";continue}else if(l.string==="_"||F[a]==="_"){var s;if(l.string==="_"){s=F[a]}else{s=l.string}e+=s+"￲";continue}}}e+=F[a]}}return e}var r=false;F=F.replace(i,"");while(F.match(/\x08/)||c.length){F=e(F,v);if(r){break}if(!F.match(/\x08/)){r=true}}function n(F,n,i){var e=new RegExp("((:?."+n+")+)","g");return F.replace(e,function(F,e){var r=new RegExp(n,"g");return t(i,null,null,e.replace(r,""))})}if(typeof t==="function"){F=n(F,"￱",{bold:true});F=n(F,"￲",{underline:true})}return F}var w={normal:{black:"#000",red:"#A00",green:"#008400",yellow:"#A50",blue:"#00A",magenta:"#A0A",cyan:"#0AA",white:"#AAA"},faited:{black:"#000",red:"#640000",green:"#006100",yellow:"#737300",blue:"#000087",magenta:"#650065",cyan:"#008787",white:"#818181"},bold:{black:"#444",red:"#F55",green:"#44D544",yellow:"#FF5",blue:"#55F",magenta:"#F5F",cyan:"#5FF",white:"#FFF"},palette:["#000000","#AA0000","#00AA00","#AA5500","#0000AA","#AA00AA","#00AAAA","#AAAAAA","#555555","#FF5555","#55FF55","#FFFF55","#5555FF","#FF55FF","#55FFFF","#FFFFFF","#000000","#00005F","#000087","#0000AF","#0000D7","#0000FF","#005F00","#005F5F","#005F87","#005FAF","#005FD7","#005FFF","#008700","#00875F","#008787","#0087AF","#0087D7","#0087FF","#00AF00","#00AF5F","#00AF87","#00AFAF","#00AFD7","#00AFFF","#00D700","#00D75F","#00D787","#00D7AF","#00D7D7","#00D7FF","#00FF00","#00FF5F","#00FF87","#00FFAF","#00FFD7","#00FFFF","#5F0000","#5F005F","#5F0087","#5F00AF","#5F00D7","#5F00FF","#5F5F00","#5F5F5F","#5F5F87","#5F5FAF","#5F5FD7","#5F5FFF","#5F8700","#5F875F","#5F8787","#5F87AF","#5F87D7","#5F87FF","#5FAF00","#5FAF5F","#5FAF87","#5FAFAF","#5FAFD7","#5FAFFF","#5FD700","#5FD75F","#5FD787","#5FD7AF","#5FD7D7","#5FD7FF","#5FFF00","#5FFF5F","#5FFF87","#5FFFAF","#5FFFD7","#5FFFFF","#870000","#87005F","#870087","#8700AF","#8700D7","#8700FF","#875F00","#875F5F","#875F87","#875FAF","#875FD7","#875FFF","#878700","#87875F","#878787","#8787AF","#8787D7","#8787FF","#87AF00","#87AF5F","#87AF87","#87AFAF","#87AFD7","#87AFFF","#87D700","#87D75F","#87D787","#87D7AF","#87D7D7","#87D7FF","#87FF00","#87FF5F","#87FF87","#87FFAF","#87FFD7","#87FFFF","#AF0000","#AF005F","#AF0087","#AF00AF","#AF00D7","#AF00FF","#AF5F00","#AF5F5F","#AF5F87","#AF5FAF","#AF5FD7","#AF5FFF","#AF8700","#AF875F","#AF8787","#AF87AF","#AF87D7","#AF87FF","#AFAF00","#AFAF5F","#AFAF87","#AFAFAF","#AFAFD7","#AFAFFF","#AFD700","#AFD75F","#AFD787","#AFD7AF","#AFD7D7","#AFD7FF","#AFFF00","#AFFF5F","#AFFF87","#AFFFAF","#AFFFD7","#AFFFFF","#D70000","#D7005F","#D70087","#D700AF","#D700D7","#D700FF","#D75F00","#D75F5F","#D75F87","#D75FAF","#D75FD7","#D75FFF","#D78700","#D7875F","#D78787","#D787AF","#D787D7","#D787FF","#D7AF00","#D7AF5F","#D7AF87","#D7AFAF","#D7AFD7","#D7AFFF","#D7D700","#D7D75F","#D7D787","#D7D7AF","#D7D7D7","#D7D7FF","#D7FF00","#D7FF5F","#D7FF87","#D7FFAF","#D7FFD7","#D7FFFF","#FF0000","#FF005F","#FF0087","#FF00AF","#FF00D7","#FF00FF","#FF5F00","#FF5F5F","#FF5F87","#FF5FAF","#FF5FD7","#FF5FFF","#FF8700","#FF875F","#FF8787","#FF87AF","#FF87D7","#FF87FF","#FFAF00","#FFAF5F","#FFAF87","#FFAFAF","#FFAFD7","#FFAFFF","#FFD700","#FFD75F","#FFD787","#FFD7AF","#FFD7D7","#FFD7FF","#FFFF00","#FFFF5F","#FFFF87","#FFFFAF","#FFFFD7","#FFFFFF","#080808","#121212","#1C1C1C","#262626","#303030","#3A3A3A","#444444","#4E4E4E","#585858","#626262","#6C6C6C","#767676","#808080","#8A8A8A","#949494","#9E9E9E","#A8A8A8","#B2B2B2","#BCBCBC","#C6C6C6","#D0D0D0","#DADADA","#E4E4E4","#EEEEEE"]};var t=function(){var x={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"white",39:"inherit"};var y={40:"black",41:"red",42:"green",43:"yellow",44:"blue",45:"magenta",46:"cyan",47:"white",49:"transparent"};function c(F,e){var r=F.split(";");var n;var i=[];var t="";var a="";var A=-1;var f=false;var l=false;var D=false;var u=w.palette;function o(F){switch(F){case 0:Object.keys(e).forEach(function(F){delete e[F]});break;case 1:i.bold=e.bold=true;e.faited=false;break;case 4:i.underline=e.underline=true;break;case 3:i.italic=e.italic=true;break;case 5:if(f||l){D=true}break;case 38:f=true;break;case 48:l=true;break;case 2:if(f||l){A=0}else{e.faited=true;e.bold=false}break;case 7:e.reverse=true;break;default:if(r.indexOf("5")===-1){if(x[F]){t=x[F]}if(y[F]){a=y[F]}}}}function s(){if(f){if(!t){t="#"}if(t.length<7){t+=("0"+n.toString(16)).slice(-2)}}if(l){if(!a){a="#"}if(a.length<7){a+=("0"+n.toString(16)).slice(-2)}}if(A===2){A=-1}else{A++}}function c(){return D&&(l&&!a||f&&!t)}function v(){if(f&&u[n]&&!t){t=u[n]}if(l&&u[n]&&!a){a=u[n]}D=false}for(var h in r){if(r.hasOwnProperty(h)){n=parseInt(r[h],10);if(A>-1){s()}else if(c()){v()}else{o(n)}}}if(e.reverse){if(t||a){var g=a;a=t;t=g}else{t="black";a="white"}}t=t||e.color;a=a||e.background;e.background=a;e.color=t;var d,p,b;if(e.bold){d=w.bold}else if(e.faited){d=w.faited}else{d=w.normal}if(typeof t!=="undefined"){if(f){p=t}else if(t==="inherit"){p=t}else{p=d[t]}}if(typeof a!=="undefined"){if(l){b=a}else if(a==="transparent"){b=a}else{b=w.normal[a]}}var m=[i,p,b];return m}return function F(n,e){var r={};var A=/(\x1B\[[0-9;]*[A-Za-z])/g;var i=/(.*)\r?\n\x1b\[1A\x1b\[([0-9]+)C/g;e=e.replace(i,function(F,e,r){r=parseInt(r,10);var n=e.split(A).filter(Boolean);var i=[];for(var t=0;t<n.length;++t){if(n[t].match(A)){i.push(n[t])}else{var a=n[t].length;if(a>r){i.push(n[t].substring(0,r));break}else{i.push(n[t])}r-=a}}return i.join("")});e=e.replace(/\x1b\[([0-9]+)C/g,function(F,e){return new Array(+e+1).join(" ")});var t=e.split(A);if(t.length===1){return e}var a=[];if(t.length>3){var f=t.slice(0,3).join("");if(f.match(/^\[0*m$/)){t=t.slice(3)}}var l,D;var u=false;for(var o=0;o<t.length;++o){D=t[o].match(/^\x1B\[([0-9;]*)([A-Za-z])$/);if(D){switch(D[2]){case"m":l=c(D[1],r);if(u){if(+D[1]!==0){a.push(l)}}else if(+D[1]!==0){a.push(l)}break}}else{a.push(t[o])}}var s;return a.reduce(function(F,e){if(typeof e==="string"){if(s&&e){var r=s.concat([e]);if(typeof n==="function"){return F+n.apply(null,r)}}s=null;return F+e}else{s=e;return F}},"")}}();function a(e,F){if(F===r){return function(F){return a(e,F)}}return t(e,n(e,F))}function e(F){return a(function(F,e,r,n){var i=[];if(e){i.push("color:"+e)}if(r){i.push("background: "+r)}if(F.bold){i.push("font-weight:bold")}if(F.italic){i.push("font-style:italic")}if(F.underline){F.push("text-decoration:underline")}return'<span style="'+i.join(";")+'">'+n+"</span>"},F)}return{format:a,html:e,colors:w}});
//# sourceMappingURL=ascidec.min.js.map